import{S as t,B as e,y as n,l as o,_ as i,e as r,i as s}from"./36d304f0.js";import{i as a}from"./6a769c5f.js";var l=a`@keyframes spOverlayFadeIn{0%{opacity:0;transform:var(--sp-overlay-from)}to{opacity:1;transform:translate(0)}}@keyframes spOverlayFadeOut{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:var(--sp-overlay-from)}}:host{display:inline-block;left:0;pointer-events:none;position:absolute;top:0;z-index:1000}:host(:focus){outline:0}#contents,sp-theme{height:100%}#contents{animation-duration:var(--spectrum-global-animation-duration-200,.16s);animation-timing-function:var(
--spectrum-global-animation-ease-out,ease-out
);display:inline-block;opacity:1;pointer-events:none;visibility:visible}:host([data-popper-placement*=top]) #contents{--sp-overlay-from:translateY(var(--spectrum-global-dimension-size-75))}:host([data-popper-placement*=right]) #contents{--sp-overlay-from:translateX(calc(-1*var(--spectrum-global-dimension-size-75)))}:host([data-popper-placement*=bottom]) #contents{--sp-overlay-from:translateY(calc(-1*var(--spectrum-global-dimension-size-75)))}:host([data-popper-placement*=left]) #contents{--sp-overlay-from:translateX(var(--spectrum-global-dimension-size-75))}:host([animating]) ::slotted(*){pointer-events:none}:host(:not([animating])) ::slotted(*){pointer-events:auto}#contents ::slotted(*){position:relative}`,c="top",d="bottom",p="right",f="left",h=[c,d,p,f],u=h.reduce((function(t,e){return t.concat([e+"-start",e+"-end"])}),[]),m=[].concat(h,["auto"]).reduce((function(t,e){return t.concat([e,e+"-start",e+"-end"])}),[]),v=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function y(t){return t.split("-")[0]}function g(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function b(t){return t instanceof g(t).Element||t instanceof Element}function w(t){return t instanceof g(t).HTMLElement||t instanceof HTMLElement}function O(t){return"undefined"!=typeof ShadowRoot&&(t instanceof g(t).ShadowRoot||t instanceof ShadowRoot)}var x=Math.max,C=Math.min,T=Math.round;function E(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function A(){return!/^((?!chrome|android).)*safari/i.test(E())}function P(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=t.getBoundingClientRect(),i=1,r=1;e&&w(t)&&(i=t.offsetWidth>0&&T(o.width)/t.offsetWidth||1,r=t.offsetHeight>0&&T(o.height)/t.offsetHeight||1);var s=(b(t)?g(t):window).visualViewport,a=!A()&&n,l=(o.left+(a&&s?s.offsetLeft:0))/i,c=(o.top+(a&&s?s.offsetTop:0))/r,d=o.width/i,p=o.height/r;return{width:d,height:p,top:c,right:l+d,bottom:c+p,left:l,x:l,y:c}}function k(t){var e=P(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function L(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&O(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function R(t){return t?(t.nodeName||"").toLowerCase():null}function D(t){return g(t).getComputedStyle(t)}function j(t){return["table","td","th"].indexOf(R(t))>=0}function W(t){return((b(t)?t.ownerDocument:t.document)||window.document).documentElement}function M(t){return"html"===R(t)?t:t.assignedSlot||t.parentNode||(O(t)?t.host:null)||W(t)}function S(t){return w(t)&&"fixed"!==D(t).position?t.offsetParent:null}function F(t){for(var e=g(t),n=S(t);n&&j(n)&&"static"===D(n).position;)n=S(n);return n&&("html"===R(n)||"body"===R(n)&&"static"===D(n).position)?e:n||function(t){var e=/firefox/i.test(E());if(/Trident/i.test(E())&&w(t)&&"fixed"===D(t).position)return null;var n=M(t);for(O(n)&&(n=n.host);w(n)&&["html","body"].indexOf(R(n))<0;){var o=D(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(t)||e}function H(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function N(t,e,n){return x(t,C(e,n))}function B(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function I(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var q={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,o=t.name,i=t.options,r=n.elements.arrow,s=n.modifiersData.popperOffsets,a=y(n.placement),l=H(a),u=[f,p].indexOf(a)>=0?"height":"width";if(r&&s){var m=function(t,e){return B("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:I(t,h))}(i.padding,n),v=k(r),g="y"===l?c:f,b="y"===l?d:p,w=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],O=s[l]-n.rects.reference[l],x=F(r),C=x?"y"===l?x.clientHeight||0:x.clientWidth||0:0,T=w/2-O/2,E=m[g],A=C-v[u]-m[b],P=C/2-v[u]/2+T,L=N(E,P,A),R=l;n.modifiersData[o]=((e={})[R]=L,e.centerOffset=L-P,e)}},effect:function(t){var e=t.state,n=t.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=e.elements.popper.querySelector(o)))&&L(e.elements.popper,o)&&(e.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},z={left:"right",right:"left",bottom:"top",top:"bottom"};function _(t){return t.replace(/left|right|bottom|top/g,(function(t){return z[t]}))}var U={start:"end",end:"start"};function V(t){return t.replace(/start|end/g,(function(t){return U[t]}))}function K(t){var e=g(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function $(t){return P(W(t)).left+K(t).scrollLeft}function X(t){var e=D(t),n=e.overflow,o=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+o)}function Y(t){return["html","body","#document"].indexOf(R(t))>=0?t.ownerDocument.body:w(t)&&X(t)?t:Y(M(t))}function G(t,e){var n;void 0===e&&(e=[]);var o=Y(t),i=o===(null==(n=t.ownerDocument)?void 0:n.body),r=g(o),s=i?[r].concat(r.visualViewport||[],X(o)?o:[]):o,a=e.concat(s);return i?a:a.concat(G(M(s)))}function J(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Q(t,e,n){return"viewport"===e?J(function(t,e){var n=g(t),o=W(t),i=n.visualViewport,r=o.clientWidth,s=o.clientHeight,a=0,l=0;if(i){r=i.width,s=i.height;var c=A();(c||!c&&"fixed"===e)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:r,height:s,x:a+$(t),y:l}}(t,n)):b(e)?function(t,e){var n=P(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):J(function(t){var e,n=W(t),o=K(t),i=null==(e=t.ownerDocument)?void 0:e.body,r=x(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=x(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-o.scrollLeft+$(t),l=-o.scrollTop;return"rtl"===D(i||n).direction&&(a+=x(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}(W(t)))}function Z(t,e,n,o){var i="clippingParents"===e?function(t){var e=G(M(t)),n=["absolute","fixed"].indexOf(D(t).position)>=0&&w(t)?F(t):t;return b(n)?e.filter((function(t){return b(t)&&L(t,n)&&"body"!==R(t)})):[]}(t):[].concat(e),r=[].concat(i,[n]),s=r[0],a=r.reduce((function(e,n){var i=Q(t,n,o);return e.top=x(i.top,e.top),e.right=C(i.right,e.right),e.bottom=C(i.bottom,e.bottom),e.left=x(i.left,e.left),e}),Q(t,s,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function tt(t){return t.split("-")[1]}function et(t){var e,n=t.reference,o=t.element,i=t.placement,r=i?y(i):null,s=i?tt(i):null,a=n.x+n.width/2-o.width/2,l=n.y+n.height/2-o.height/2;switch(r){case c:e={x:a,y:n.y-o.height};break;case d:e={x:a,y:n.y+n.height};break;case p:e={x:n.x+n.width,y:l};break;case f:e={x:n.x-o.width,y:l};break;default:e={x:n.x,y:n.y}}var h=r?H(r):null;if(null!=h){var u="y"===h?"height":"width";switch(s){case"start":e[h]=e[h]-(n[u]/2-o[u]/2);break;case"end":e[h]=e[h]+(n[u]/2-o[u]/2)}}return e}function nt(t,e){void 0===e&&(e={});var n=e,o=n.placement,i=void 0===o?t.placement:o,r=n.strategy,s=void 0===r?t.strategy:r,a=n.boundary,l=void 0===a?"clippingParents":a,f=n.rootBoundary,u=void 0===f?"viewport":f,m=n.elementContext,v=void 0===m?"popper":m,y=n.altBoundary,g=void 0!==y&&y,w=n.padding,O=void 0===w?0:w,x=B("number"!=typeof O?O:I(O,h)),C="popper"===v?"reference":"popper",T=t.rects.popper,E=t.elements[g?C:v],A=Z(b(E)?E:E.contextElement||W(t.elements.popper),l,u,s),k=P(t.elements.reference),L=et({reference:k,element:T,strategy:"absolute",placement:i}),R=J(Object.assign({},T,L)),D="popper"===v?R:k,j={top:A.top-D.top+x.top,bottom:D.bottom-A.bottom+x.bottom,left:A.left-D.left+x.left,right:D.right-A.right+x.right},M=t.modifiersData.offset;if("popper"===v&&M){var S=M[i];Object.keys(j).forEach((function(t){var e=[p,d].indexOf(t)>=0?1:-1,n=[c,d].indexOf(t)>=0?"y":"x";j[t]+=S[n]*e}))}return j}function ot(t,e){void 0===e&&(e={});var n=e,o=n.placement,i=n.boundary,r=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?m:l,d=tt(o),p=d?a?u:u.filter((function(t){return tt(t)===d})):h,f=p.filter((function(t){return c.indexOf(t)>=0}));0===f.length&&(f=p);var v=f.reduce((function(e,n){return e[n]=nt(t,{placement:n,boundary:i,rootBoundary:r,padding:s})[y(n)],e}),{});return Object.keys(v).sort((function(t,e){return v[t]-v[e]}))}var it={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var i=n.mainAxis,r=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,h=n.padding,u=n.boundary,m=n.rootBoundary,v=n.altBoundary,g=n.flipVariations,b=void 0===g||g,w=n.allowedAutoPlacements,O=e.options.placement,x=y(O),C=l||(x===O||!b?[_(O)]:function(t){if("auto"===y(t))return[];var e=_(t);return[V(t),e,V(e)]}(O)),T=[O].concat(C).reduce((function(t,n){return t.concat("auto"===y(n)?ot(e,{placement:n,boundary:u,rootBoundary:m,padding:h,flipVariations:b,allowedAutoPlacements:w}):n)}),[]),E=e.rects.reference,A=e.rects.popper,P=new Map,k=!0,L=T[0],R=0;R<T.length;R++){var D=T[R],j=y(D),W="start"===tt(D),M=[c,d].indexOf(j)>=0,S=M?"width":"height",F=nt(e,{placement:D,boundary:u,rootBoundary:m,altBoundary:v,padding:h}),H=M?W?p:f:W?d:c;E[S]>A[S]&&(H=_(H));var N=_(H),B=[];if(r&&B.push(F[j]<=0),a&&B.push(F[H]<=0,F[N]<=0),B.every((function(t){return t}))){L=D,k=!1;break}P.set(D,B)}if(k)for(var I=function(t){var e=T.find((function(e){var n=P.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return L=e,"break"},q=b?3:1;q>0;q--){if("break"===I(q))break}e.placement!==L&&(e.modifiersData[o]._skip=!0,e.placement=L,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};var rt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,o=t.name,i=n.offset,r=void 0===i?[0,0]:i,s=m.reduce((function(t,n){return t[n]=function(t,e,n){var o=y(t),i=[f,c].indexOf(o)>=0?-1:1,r="function"==typeof n?n(Object.assign({},e,{placement:t})):n,s=r[0],a=r[1];return s=s||0,a=(a||0)*i,[f,p].indexOf(o)>=0?{x:a,y:s}:{x:s,y:a}}(n,e.rects,r),t}),{}),a=s[e.placement],l=a.x,d=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=s}};var st={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,o=t.name,i=n.mainAxis,r=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,h=n.rootBoundary,u=n.altBoundary,m=n.padding,v=n.tether,g=void 0===v||v,b=n.tetherOffset,w=void 0===b?0:b,O=nt(e,{boundary:l,rootBoundary:h,padding:m,altBoundary:u}),T=y(e.placement),E=tt(e.placement),A=!E,P=H(T),L="x"===P?"y":"x",R=e.modifiersData.popperOffsets,D=e.rects.reference,j=e.rects.popper,W="function"==typeof w?w(Object.assign({},e.rects,{placement:e.placement})):w,M="number"==typeof W?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),S=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(R){if(r){var I,q="y"===P?c:f,z="y"===P?d:p,_="y"===P?"height":"width",U=R[P],V=U+O[q],K=U-O[z],$=g?-j[_]/2:0,X="start"===E?D[_]:j[_],Y="start"===E?-j[_]:-D[_],G=e.elements.arrow,J=g&&G?k(G):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Z=Q[q],et=Q[z],ot=N(0,D[_],J[_]),it=A?D[_]/2-$-ot-Z-M.mainAxis:X-ot-Z-M.mainAxis,rt=A?-D[_]/2+$+ot+et+M.mainAxis:Y+ot+et+M.mainAxis,st=e.elements.arrow&&F(e.elements.arrow),at=st?"y"===P?st.clientTop||0:st.clientLeft||0:0,lt=null!=(I=null==S?void 0:S[P])?I:0,ct=U+rt-lt,dt=N(g?C(V,U+it-lt-at):V,U,g?x(K,ct):K);R[P]=dt,B[P]=dt-U}if(a){var pt,ft="x"===P?c:f,ht="x"===P?d:p,ut=R[L],mt="y"===L?"height":"width",vt=ut+O[ft],yt=ut-O[ht],gt=-1!==[c,f].indexOf(T),bt=null!=(pt=null==S?void 0:S[L])?pt:0,wt=gt?vt:ut-D[mt]-j[mt]-bt+M.altAxis,Ot=gt?ut+D[mt]+j[mt]-bt-M.altAxis:yt,xt=g&&gt?function(t,e,n){var o=N(t,e,n);return o>n?n:o}(wt,ut,Ot):N(g?wt:vt,ut,g?Ot:yt);R[L]=xt,B[L]=xt-ut}e.modifiersData[o]=B}},requiresIfExists:["offset"]};function at(t,e,n){void 0===n&&(n=!1);var o,i,r=w(e),s=w(e)&&function(t){var e=t.getBoundingClientRect(),n=T(e.width)/t.offsetWidth||1,o=T(e.height)/t.offsetHeight||1;return 1!==n||1!==o}(e),a=W(e),l=P(t,s,n),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&(("body"!==R(e)||X(a))&&(c=(o=e)!==g(o)&&w(o)?{scrollLeft:(i=o).scrollLeft,scrollTop:i.scrollTop}:K(o)),w(e)?((d=P(e,!0)).x+=e.clientLeft,d.y+=e.clientTop):a&&(d.x=$(a))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function lt(t){var e=new Map,n=new Set,o=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var o=e.get(t);o&&i(o)}})),o.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),o}var ct={placement:"bottom",modifiers:[],strategy:"absolute"};function dt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}var pt={passive:!0};var ft={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ht(t){var e,n=t.popper,o=t.popperRect,i=t.placement,r=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,h=t.adaptive,u=t.roundOffsets,m=t.isFixed,v=s.x,y=void 0===v?0:v,b=s.y,w=void 0===b?0:b,O="function"==typeof u?u({x:y,y:w}):{x:y,y:w};y=O.x,w=O.y;var x=s.hasOwnProperty("x"),C=s.hasOwnProperty("y"),E=f,A=c,P=window;if(h){var k=F(n),L="clientHeight",R="clientWidth";if(k===g(n)&&"static"!==D(k=W(n)).position&&"absolute"===a&&(L="scrollHeight",R="scrollWidth"),i===c||(i===f||i===p)&&"end"===r)A=d,w-=(m&&k===P&&P.visualViewport?P.visualViewport.height:k[L])-o.height,w*=l?1:-1;if(i===f||(i===c||i===d)&&"end"===r)E=p,y-=(m&&k===P&&P.visualViewport?P.visualViewport.width:k[R])-o.width,y*=l?1:-1}var j,M=Object.assign({position:a},h&&ft),S=!0===u?function(t){var e=t.x,n=t.y,o=window.devicePixelRatio||1;return{x:T(e*o)/o||0,y:T(n*o)/o||0}}({x:y,y:w}):{x:y,y:w};return y=S.x,w=S.y,l?Object.assign({},M,((j={})[A]=C?"0":"",j[E]=x?"0":"",j.transform=(P.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",j)):Object.assign({},M,((e={})[A]=C?w+"px":"",e[E]=x?y+"px":"",e.transform="",e))}var ut=[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,o=t.options,i=o.scroll,r=void 0===i||i,s=o.resize,a=void 0===s||s,l=g(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach((function(t){t.addEventListener("scroll",n.update,pt)})),a&&l.addEventListener("resize",n.update,pt),function(){r&&c.forEach((function(t){t.removeEventListener("scroll",n.update,pt)})),a&&l.removeEventListener("resize",n.update,pt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=et({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,o=n.gpuAcceleration,i=void 0===o||o,r=n.adaptive,s=void 0===r||r,a=n.roundOffsets,l=void 0===a||a,c={placement:y(e.placement),variation:tt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ht(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ht(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},i=e.elements[t];w(i)&&R(i)&&(Object.assign(i.style,n),Object.keys(o).forEach((function(t){var e=o[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var o=e.elements[t],i=e.attributes[t]||{},r=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});w(o)&&R(o)&&(Object.assign(o.style,r),Object.keys(i).forEach((function(t){o.removeAttribute(t)})))}))}},requires:["computeStyles"]}],mt="top",vt="bottom",yt="right",gt=[mt,vt,yt,"left"];function bt(t){return t?(t.nodeName||"").toLowerCase():null}function wt(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ot(t){return t instanceof wt(t).Element||t instanceof Element}function xt(t){return t instanceof wt(t).HTMLElement||t instanceof HTMLElement}function Ct(t){return"undefined"!=typeof ShadowRoot&&(t instanceof wt(t).ShadowRoot||t instanceof ShadowRoot)}var Tt=Math.max,Et=Math.min,At=Math.round;function Pt(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function kt(){return!/^((?!chrome|android).)*safari/i.test(Pt())}function Lt(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=t.getBoundingClientRect(),i=1,r=1;e&&xt(t)&&(i=t.offsetWidth>0&&At(o.width)/t.offsetWidth||1,r=t.offsetHeight>0&&At(o.height)/t.offsetHeight||1);var s=(Ot(t)?wt(t):window).visualViewport,a=!kt()&&n,l=(o.left+(a&&s?s.offsetLeft:0))/i,c=(o.top+(a&&s?s.offsetTop:0))/r,d=o.width/i,p=o.height/r;return{width:d,height:p,top:c,right:l+d,bottom:c+p,left:l,x:l,y:c}}function Rt(t){return wt(t).getComputedStyle(t)}function Dt(t){return["table","td","th"].indexOf(bt(t))>=0}function jt(t){return((Ot(t)?t.ownerDocument:t.document)||window.document).documentElement}function Wt(t){return"html"===bt(t)?t:t.assignedSlot||t.parentNode||(Ct(t)?t.host:null)||jt(t)}function Mt(t){return xt(t)&&"fixed"!==Rt(t).position?t.offsetParent:null}function St(t){for(var e=wt(t),n=Mt(t);n&&Dt(n)&&"static"===Rt(n).position;)n=Mt(n);return n&&("html"===bt(n)||"body"===bt(n)&&"static"===Rt(n).position)?e:n||function(t){var e=/firefox/i.test(Pt());if(/Trident/i.test(Pt())&&xt(t)&&"fixed"===Rt(t).position)return null;var n=Wt(t);for(Ct(n)&&(n=n.host);xt(n)&&["html","body"].indexOf(bt(n))<0;){var o=Rt(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(t)||e}function Ft(t){var e=wt(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ht(t){return Lt(jt(t)).left+Ft(t).scrollLeft}function Nt(t){var e=Rt(t),n=e.overflow,o=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+o)}function Bt(t){return["html","body","#document"].indexOf(bt(t))>=0?t.ownerDocument.body:xt(t)&&Nt(t)?t:Bt(Wt(t))}function It(t,e){var n;void 0===e&&(e=[]);var o=Bt(t),i=o===(null==(n=t.ownerDocument)?void 0:n.body),r=wt(o),s=i?[r].concat(r.visualViewport||[],Nt(o)?o:[]):o,a=e.concat(s);return i?a:a.concat(It(Wt(s)))}function qt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function zt(t,e,n){return"viewport"===e?qt(function(t,e){var n=wt(t),o=jt(t),i=n.visualViewport,r=o.clientWidth,s=o.clientHeight,a=0,l=0;if(i){r=i.width,s=i.height;var c=kt();(c||!c&&"fixed"===e)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:r,height:s,x:a+Ht(t),y:l}}(t,n)):Ot(e)?function(t,e){var n=Lt(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):qt(function(t){var e,n=jt(t),o=Ft(t),i=null==(e=t.ownerDocument)?void 0:e.body,r=Tt(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Tt(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-o.scrollLeft+Ht(t),l=-o.scrollTop;return"rtl"===Rt(i||n).direction&&(a+=Tt(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}(jt(t)))}function _t(t){var e=It(Wt(t)),n=["absolute","fixed"].indexOf(Rt(t).position)>=0&&xt(t)?St(t):t;return Ot(n)?e.filter((function(t){return Ot(t)&&function(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ct(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}(t,n)&&"body"!==bt(t)})):[]}function Ut(t,e){void 0===e&&(e={});var n,o=e,i=o.placement,r=void 0===i?t.placement:i,s=o.strategy,a=void 0===s?t.strategy:s,l=o.boundary,c=void 0===l?"clippingParents":l,d=o.rootBoundary,p=void 0===d?"viewport":d,f=o.elementContext,h=void 0===f?"popper":f,u=o.altBoundary,m=void 0!==u&&u,v=o.padding,y=void 0===v?0:v,g=function(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}("number"!=typeof y?y:(n=y,gt.reduce((function(t,e){return t[e]=n,t}),{}))),b="popper"===h?"reference":"popper",w=t.rects.popper,O=t.elements[m?b:h],x=function(t,e,n,o){var i="clippingParents"===e?_t(t):[].concat(e),r=[].concat(i,[n]),s=r[0],a=r.reduce((function(e,n){var i=zt(t,n,o);return e.top=Tt(i.top,e.top),e.right=Et(i.right,e.right),e.bottom=Et(i.bottom,e.bottom),e.left=Tt(i.left,e.left),e}),zt(t,s,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Ot(O)?O:O.contextElement||jt(t.elements.popper),c,p,a),C=Lt(t.elements.reference),T=function(t){var e,n=t.reference,o=t.element,i=t.placement,r=i?function(t){return t.split("-")[0]}(i):null,s=i?function(t){return t.split("-")[1]}(i):null,a=n.x+n.width/2-o.width/2,l=n.y+n.height/2-o.height/2;switch(r){case mt:e={x:a,y:n.y-o.height};break;case vt:e={x:a,y:n.y+n.height};break;case yt:e={x:n.x+n.width,y:l};break;case"left":e={x:n.x-o.width,y:l};break;default:e={x:n.x,y:n.y}}var c=r?function(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}(r):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case"start":e[c]=e[c]-(n[d]/2-o[d]/2);break;case"end":e[c]=e[c]+(n[d]/2-o[d]/2)}}return e}({reference:C,element:w,strategy:"absolute",placement:r}),E=qt(Object.assign({},w,T)),A="popper"===h?E:C,P={top:x.top-A.top+g.top,bottom:A.bottom-x.bottom+g.bottom,left:x.left-A.left+g.left,right:A.right-x.right+g.right},k=t.modifiersData.offset;if("popper"===h&&k){var L=k[r];Object.keys(P).forEach((function(t){var e=[yt,vt].indexOf(t)>=0?1:-1,n=[mt,vt].indexOf(t)>=0?"y":"x";P[t]+=L[n]*e}))}return P}var Vt={name:"maxSize",enabled:!0,phase:"main",requiresIfExists:["offset","preventOverflow","flip"],fn:function(t){var e=t.state,n=t.name,o=Ut(e,t.options),i=e.modifiersData.preventOverflow||{x:0,y:0},r=i.x,s=i.y,a=e.rects.popper,l=a.width,c=a.height,d=e.placement.split("-")[0],p="left"===d?"left":"right",f="top"===d?"top":"bottom";e.modifiersData[n]={width:l-o[p]-r,height:c-o[f]-s}}},Kt=Vt;const $t=new WeakMap,Xt={name:"applyMaxSize",enabled:!0,phase:"beforeWrite",requires:["maxSize"],fn({state:t}){const{height:e}=t.modifiersData.maxSize;$t.has(t.elements.popper)||$t.set(t.elements.popper,t.rects.popper.height);const n=e<$t.get(t.elements.popper)?`${e}px`:"";t.styles.popper.maxHeight=n,t.styles.popper.height=n}},Yt=function(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,o=void 0===n?[]:n,i=e.defaultOptions,r=void 0===i?ct:i;return function(t,e,n){void 0===n&&(n=r);var i,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},ct,r),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,d={state:a,setOptions:function(n){var i="function"==typeof n?n(a.options):n;p(),a.options=Object.assign({},r,a.options,i),a.scrollParents={reference:b(t)?G(t):t.contextElement?G(t.contextElement):[],popper:G(e)};var s,c,f=function(t){var e=lt(t);return v.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((s=[].concat(o,a.options.modifiers),c=s.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(c).map((function(t){return c[t]}))));return a.orderedModifiers=f.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,o=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var r=i({state:a,name:e,instance:d,options:o}),s=function(){};l.push(r||s)}})),d.update()},forceUpdate:function(){if(!c){var t=a.elements,e=t.reference,n=t.popper;if(dt(e,n)){a.rects={reference:at(e,F(n),"fixed"===a.options.strategy),popper:k(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var o=0;o<a.orderedModifiers.length;o++)if(!0!==a.reset){var i=a.orderedModifiers[o],r=i.fn,s=i.options,l=void 0===s?{}:s,p=i.name;"function"==typeof r&&(a=r({state:a,options:l,name:p,instance:d})||a)}else a.reset=!1,o=-1}}},update:(i=function(){return new Promise((function(t){d.forceUpdate(),t(a)}))},function(){return s||(s=new Promise((function(t){Promise.resolve().then((function(){s=void 0,t(i())}))}))),s}),destroy:function(){p(),c=!0}};if(!dt(t,e))return d;function p(){l.forEach((function(t){return t()})),l=[]}return d.setOptions(n).then((function(t){!c&&n.onFirstUpdate&&n.onFirstUpdate(t)})),d}}({defaultModifiers:[...ut,it,st,q,rt]}),Gt={initial:"idle",states:{idle:{on:{active:"active"}},active:{on:{visible:"visible",hiding:"hiding",idle:"idle"}},visible:{on:{hiding:"hiding",idle:"idle"}},hiding:{on:{dispose:"dispose"}},dispose:{on:{disposed:"disposed"}},disposed:{on:{}}}},Jt=(t,e)=>t?e&&Gt.states[t].on[e]||t:Gt.initial,Qt=t=>{const e=t.closest("active-overlay");if(e)return e;const n=t.getRootNode();return n.host?Qt(n.host):null};class Zt extends t{constructor(){super(),this._state=Jt(),this.animating=!1,this.theme={},this.tabbingAway=!1,this.offset=6,this.interaction="hover",this.positionAnimationFrame=0,this.willNotifyClosed=!1,this.handleInlineTriggerKeydown=t=>{const{code:e,shiftKey:n}=t;if("Tab"===e){if(n)return this.tabbingAway=!0,void this.dispatchEvent(new Event("close"));t.stopPropagation(),t.preventDefault(),this.focus()}},this.stealOverlayContentPromise=Promise.resolve(),this.stealOverlayContentPromise=new Promise((t=>this.stealOverlayContentResolver=t))}get state(){return this._state}set state(t){const e=Jt(this.state,t);e!==this.state&&(this._state=e,"active"===this.state||"visible"===this.state||"hiding"===this.state?this.setAttribute("state",this.state):this.removeAttribute("state"))}focus(){const t=this.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), [focusable]');t?t.focus():super.focus(),this.removeAttribute("tabindex")}get hasTheme(){return!!this.theme.color||!!this.theme.scale||!!this.theme.lang}static get styles(){return[l]}get hasModalRoot(){return!!this._modalRoot}feature(){this.tabIndex=-1;const t=Qt(this.trigger),e=t&&"open"===t.slot;("modal"===this.interaction||e||this._modalRoot)&&(this.slot="open",this._modalRoot&&(null==t||t.feature()))}obscure(t){if(this.slot&&"modal"===t){if(this.removeAttribute("slot"),"modal"!==this.interaction){const e=Qt(this.trigger);return this._modalRoot=null==e?void 0:e.obscure(t),this._modalRoot}return this}}firstUpdated(t){super.firstUpdated(t),this.overlayContent&&(this.stealOverlayContent(this.overlayContent),this.overlayContent&&this.trigger&&(this.placement&&"none"!==this.placement&&(this.popper=Yt(this.virtualTrigger||this.trigger,this,{placement:this.placement,modifiers:[Kt,Xt,{name:"arrow",options:{element:this.overlayContentTip}},{name:"offset",options:{offset:[0,this.offset]}}]})),this.state="active",document.addEventListener("sp-update-overlays",(()=>{this.updateOverlayPosition(),this.state="visible"})),this.feature(),this.updateOverlayPosition().then((()=>this.applyContentAnimation("spOverlayFadeIn"))).then((()=>{this.receivesFocus&&this.focus(),this.trigger.dispatchEvent(new CustomEvent("sp-opened",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:this.interaction}}))}))))}updateOverlayPopperPlacement(){this.overlayContent&&(this.dataPopperPlacement?this.overlayContent.setAttribute("placement",this.dataPopperPlacement):this.originalPlacement?this.overlayContent.setAttribute("placement",this.originalPlacement):this.overlayContent.removeAttribute("placement"))}updated(t){t.has("dataPopperPlacement")&&this.updateOverlayPopperPlacement()}open(t){this.extractDetail(t)}extractDetail(t){this.overlayContent=t.content,this.overlayContentTip=t.contentTip,this.trigger=t.trigger,this.virtualTrigger=t.virtualTrigger,this.placement=t.placement,this.offset=t.offset,this.interaction=t.interaction,this.theme=t.theme,this.receivesFocus=t.receivesFocus,this.closeOnClickOutside=t.closeOnClickOutside}dispose(){"dispose"===this.state&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.popper&&(this.popper.destroy(),this.popper=void 0),this.trigger.removeEventListener("keydown",this.handleInlineTriggerKeydown),this.returnOverlayContent(),this.state="disposed",this.willNotifyClosed&&(this.overlayContent.dispatchEvent(new Event("sp-overlay-closed")),this.willNotifyClosed=!1))}stealOverlayContent(t){this.originalPlacement=t.getAttribute("placement"),this.restoreContent=e([t],this,(t=>{const e=t.slot;return t.removeAttribute("slot"),t=>{t.slot=e}})),this.stealOverlayContentResolver()}returnOverlayContent(){if(!this.restoreContent)return;const[t]=this.restoreContent();this.restoreContent=void 0,this.willNotifyClosed=!0,this.originalPlacement&&(t.setAttribute("placement",this.originalPlacement),delete this.originalPlacement)}async updateOverlayPosition(){await(document.fonts?document.fonts.ready:Promise.resolve()),this.popper&&await this.popper.update()}async hide(t=!0){this.state="hiding",t&&await this.applyContentAnimation("spOverlayFadeOut"),this.state="dispose"}schedulePositionUpdate(){cancelAnimationFrame(this.positionAnimationFrame),this.positionAnimationFrame=requestAnimationFrame((()=>this.updateOverlayPosition()))}onSlotChange(){this.schedulePositionUpdate()}connectedCallback(){super.connectedCallback(),this.schedulePositionUpdate()}applyContentAnimation(t){return new Promise((e=>{const n=this.shadowRoot.querySelector("#contents"),o=i=>{t===i.animationName&&(n.removeEventListener("animationend",o),n.removeEventListener("animationcancel",o),this.animating=!1,e("animationcancel"===i.type))};n.addEventListener("animationend",o),n.addEventListener("animationcancel",o),n.style.animationName=t,this.animating=!0}))}renderTheme(t){const{color:e,scale:i,lang:r}=this.theme;return n`<sp-theme color="${o(e)}" scale="${o(i)}" lang="${o(r)}" part="theme">${t}</sp-theme>`}render(){const t=n`<div id="contents"><slot @slotchange="${this.onSlotChange}"></slot></div>`;return this.hasTheme?this.renderTheme(t):t}static create(t){const e=new Zt;return t.content&&e.open(t),e}async getUpdateComplete(){const t=await super.getUpdateComplete();return await this.stealOverlayContentPromise,t}}i([r()],Zt.prototype,"_state",void 0),i([r({reflect:!0,type:Boolean})],Zt.prototype,"animating",void 0),i([r({reflect:!0})],Zt.prototype,"placement",void 0),i([r({attribute:!1})],Zt.prototype,"theme",void 0),i([r({attribute:!1})],Zt.prototype,"receivesFocus",void 0),i([r({attribute:"data-popper-placement"})],Zt.prototype,"dataPopperPlacement",void 0);class te{constructor(t={}){this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,t)}async openTimer(t){if(this.cancelCooldownTimer(),this.component&&t===this.component){if(this.promise)return this.promise;throw new Error("Inconsistent state")}return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=t,!this.isWarm&&(this.promise=new Promise((t=>{this.resolve=t,this.timeout=window.setTimeout((()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)}),this.warmUpDelay)})),this.promise)}close(t){this.component&&this.component===t&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout((()=>{this.isWarm=!1,delete this.cooldownTimeout}),this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}s("active-overlay",Zt);class ee{constructor(t,e,n){this.isOpen=!1,this.owner=t,this.overlayElement=n,this.interaction=e}static async open(t,e,n,o){const i=new ee(t,e,n);return await i.open(o),()=>{i.close()}}static update(){const t=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(t)}async open({abortPromise:t,delayed:e,offset:n=0,placement:o="top",receivesFocus:i,notImmediatelyClosable:r,virtualTrigger:s,closeOnClickOutside:a=!0}){if(this.isOpen)return!0;void 0===e&&(e=this.overlayElement.hasAttribute("delayed"));const l={color:void 0,scale:void 0,lang:void 0},c=new CustomEvent("sp-query-theme",{bubbles:!0,composed:!0,detail:l,cancelable:!0});this.owner.dispatchEvent(c);const d={},p=new CustomEvent("sp-overlay-query",{bubbles:!0,composed:!0,detail:d,cancelable:!0});return this.overlayElement.dispatchEvent(p),await ee.overlayStack.openOverlay(Object.assign({abortPromise:t,content:this.overlayElement,contentTip:d.overlayContentTipElement,delayed:e,offset:n,placement:o,trigger:this.owner,interaction:this.interaction,theme:l,receivesFocus:i,notImmediatelyClosable:r,virtualTrigger:s,closeOnClickOutside:a},d)),this.isOpen=!0,!0}close(){ee.overlayStack.closeOverlay(this.overlayElement)}}ee.overlayStack=new class{constructor(){this.overlays=[],this.preventMouseRootClose=!1,this.root=document.body,this.handlingResize=!1,this.overlayTimer=new te,this.canTabTrap=!0,this.trappingInited=!1,this._eventsAreBound=!1,this.forwardContextmenuEvent=async t=>{if("modal"!==this.overlays[this.overlays.length-1].interaction)return;t.stopPropagation(),t.preventDefault(),await this.closeTopOverlay();let e=document.elementFromPoint(t.clientX,t.clientY);for(;null==e?void 0:e.shadowRoot;){const n=e.shadowRoot.elementFromPoint(t.clientX,t.clientY);if(!n||n===e)break;e=n}null==e||e.dispatchEvent(new MouseEvent("contextmenu",t))},this.handleMouseCapture=t=>{const e=this.topOverlay;if(t.target&&e&&e.overlayContent&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)&&function(t){return 0===t.button}(t)){if(t.target instanceof Node){if(t.composedPath().indexOf(e.overlayContent)>=0)return void(this.preventMouseRootClose=!0);this.preventMouseRootClose=!1}}else this.preventMouseRootClose=!0},this._doesNotCloseOnFirstClick=!1,this.handleMouse=t=>{this._doesNotCloseOnFirstClick?this._doesNotCloseOnFirstClick=!1:this.preventMouseRootClose||t.defaultPrevented||!this.topOverlay.closeOnClickOutside||this.closeTopOverlay()},this.handleKeyUp=t=>{if("Escape"===t.code){const t=this.topOverlay;this.closeTopOverlay(),t&&t.trigger.focus()}},this.handleResize=()=>{this.handlingResize||(this.handlingResize=!0,requestAnimationFrame((async()=>{const t=this.overlays.map((t=>t.updateOverlayPosition()));await Promise.all(t),this.handlingResize=!1})))}}initTabTrapping(){if(this.document.body.shadowRoot)return void(this.canTabTrap=!1);if(this.document.body.attachShadow({mode:"open"}),!this.document.body.shadowRoot)return;const t=this.document.body.shadowRoot;t.innerHTML='\n            <div id="actual"><slot></slot></div>\n            <style>\n            #actual {\n                position: relative;\n                height: calc(100% - var(--swc-body-margins-block, 0px));\n                z-index: 0;\n                min-height: calc(100vh - var(--swc-body-margins-block, 0px));\n            }\n            #holder {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                flex-flow: column;\n                height: 100%;\n                width: 100%;\n                top: 0;\n                left: 0;\n                position: fixed;\n                pointer-events: none;\n            }\n            [name="open"]::slotted(*) {\n                pointer-events: all;\n            }\n            #holder[hidden] {\n                display: none !important;\n            }\n            #actual[tabindex="-1"] ::slotted(*) {\n                pointer-events: none;  /* just in case? */\n            }\n            </style>\n            <div id="holder" hidden><slot name="open"></slot></div>\n        ',this.tabTrapper=t.querySelector("#actual"),this.overlayHolder=t.querySelector("#holder"),this.tabTrapper.attachShadow({mode:"open"}),this.tabTrapper.shadowRoot&&(this.tabTrapper.shadowRoot.innerHTML="<slot></slot>")}startTabTrapping(){this.trappingInited||(this.initTabTrapping(),this.trappingInited=!0),this.canTabTrap&&(this.tabTrapper.tabIndex=-1,this.tabTrapper.addEventListener("contextmenu",this.forwardContextmenuEvent,!0),this.tabTrapper.setAttribute("aria-hidden","true"),this.overlayHolder.hidden=!1,requestAnimationFrame((()=>{const t=getComputedStyle(document.body);this.tabTrapper.style.setProperty("--swc-body-margins-inline",`calc(${t.marginLeft} + ${t.marginRight})`),this.tabTrapper.style.setProperty("--swc-body-margins-block",`calc(${t.marginTop} + ${t.marginBottom})`)})))}stopTabTrapping(){this.canTabTrap&&this.trappingInited&&(this.tabTrapper.removeAttribute("tabindex"),this.tabTrapper.removeEventListener("contextmenu",this.forwardContextmenuEvent,!0),this.tabTrapper.removeAttribute("aria-hidden"),this.overlayHolder.hidden=!0)}get document(){return this.root.ownerDocument||document}get topOverlay(){return this.overlays.slice(-1)[0]}findOverlayForContent(t){for(const e of this.overlays)if(t===e.overlayContent)return e}addEventListeners(){this._eventsAreBound||(this._eventsAreBound=!0,this.document.addEventListener("click",this.handleMouseCapture,!0),this.document.addEventListener("click",this.handleMouse),this.document.addEventListener("keyup",this.handleKeyUp),window.addEventListener("resize",this.handleResize))}isClickOverlayActiveForTrigger(t){return this.overlays.some((e=>t===e.trigger&&"click"===e.interaction))}async openOverlay(t){if(this.addEventListeners(),this.findOverlayForContent(t.content))return!1;t.notImmediatelyClosable&&(this._doesNotCloseOnFirstClick=!0),"modal"===t.interaction&&this.startTabTrapping();const e=t.content;if(e.overlayWillOpenCallback){const{trigger:n}=t;e.overlayWillOpenCallback({trigger:n})}if(t.delayed){const n=[this.overlayTimer.openTimer(t.content)];t.abortPromise&&n.push(t.abortPromise);const o=await Promise.race(n);if(o){if(e.overlayOpenCancelledCallback){const{trigger:n}=t;e.overlayOpenCancelledCallback({trigger:n})}return o}}if("click"===t.interaction)this.closeAllHoverOverlays();else if("hover"===t.interaction&&this.isClickOverlayActiveForTrigger(t.trigger))return!0;const n=Zt.create(t);if(this.overlays.length){this.overlays[this.overlays.length-1].obscure(n.interaction)}return document.body.appendChild(n),new Promise((t=>requestAnimationFrame(t))).then((async()=>{if(this.overlays.push(n),await n.updateComplete,this.addOverlayEventListeners(n),void 0!==e.open&&(e.open=!0),e.overlayOpenCallback){const{trigger:t}=n;e.overlayOpenCallback({trigger:t})}return"auto"===t.receivesFocus&&n.focus(),!1}))}addOverlayEventListeners(t){switch(t.addEventListener("close",(()=>{this.hideAndCloseOverlay(t)})),t.interaction){case"replace":this.addReplaceOverlayEventListeners(t);break;case"inline":this.addInlineOverlayEventListeners(t)}}addReplaceOverlayEventListeners(t){t.addEventListener("keydown",(e=>{const{code:n}=e;"Tab"===n&&(e.stopPropagation(),this.closeOverlay(t.overlayContent),t.tabbingAway=!0,t.trigger.focus(),t.trigger.dispatchEvent(new KeyboardEvent("keydown",e)))}))}addInlineOverlayEventListeners(t){t.trigger.addEventListener("keydown",t.handleInlineTriggerKeydown),t.addEventListener("keydown",(e=>{const{code:n,shiftKey:o}=e;if("Tab"!==n)return;if(t.tabbingAway=!0,o){const e=document.createElement("span");return e.tabIndex=-1,t.trigger.hasAttribute("slot")&&(e.slot=t.trigger.slot),t.trigger.insertAdjacentElement("afterend",e),e.focus(),void e.remove()}e.stopPropagation();const i=t.trigger;void 0!==i.open&&(i.open=!1),this.closeOverlay(t.overlayContent),t.trigger.focus()}))}closeOverlay(t){this.overlayTimer.close(t),requestAnimationFrame((()=>{const e=this.findOverlayForContent(t);this.hideAndCloseOverlay(e)}))}closeAllHoverOverlays(){for(const t of this.overlays)"hover"===t.interaction&&this.hideAndCloseOverlay(t,!1)}async hideAndCloseOverlay(t,e){if(t){await t.hide(e);const n=t.overlayContent;if(void 0!==n.open&&(n.open=!1),n.overlayCloseCallback){const{trigger:e}=t;n.overlayCloseCallback({trigger:e})}if("dispose"!=t.state)return;const o=this.overlays.indexOf(t);if(o>=0&&this.overlays.splice(o,1),this.overlays.length){const t=this.overlays[this.overlays.length-1];t.feature(),"modal"===t.interaction||t.hasModalRoot?t.focus():this.stopTabTrapping()}else{if(this.stopTabTrapping(),"modal"===t.interaction||("replace"===t.interaction||"inline"===t.interaction)&&!t.tabbingAway){const e=t.overlayContent.getRootNode().activeElement,n=t.trigger.getRootNode(),o=n.activeElement;(t.overlayContent.contains(e)||t.trigger.getRootNode().contains(o)||n.host&&n.host===o)&&t.trigger.focus()}t.tabbingAway=!1}t.remove(),t.dispose(),t.trigger.dispatchEvent(new CustomEvent("sp-closed",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:t.interaction}}))}}closeTopOverlay(){return this.hideAndCloseOverlay(this.topOverlay)}};export{ee as Overlay};
//# sourceMappingURL=772d9cf5.js.map
